conditions:
  - name: clip-sf-large
    command: python -m pyserini.search.faiss --encoder-class uniir --encoder clip_sf_large --index m-beir-${dataset}.clip-sf-large --topics-format mbeir --topics collections/m-beir/mbeir_${dataset}_test.jsonl --output-format trec --output $output --hits 1000 --instruction-config collections/m-beir/query_instructions/${instruction_config} --fp16 --threads ${dense_threads} --batch-size ${dense_batch_size}
    datasets:
      - dataset: cirr_task7
        scores:
          - nDCG@10: 0.3292
            R@20: 0.6975
            R@100: 0.8905
      - dataset: edis_task2
        scores:
          - nDCG@10: 0.3440
            R@20: 0.5874
            R@100: 0.8276
      - dataset: fashion200k_task0
        scores:
          - nDCG@10: 0.0587
            R@20: 0.1198
            R@100: 0.2528
      - dataset: fashion200k_task3
        scores:
          - nDCG@10: 0.1058
            R@20: 0.2571
            R@100: 0.4964
      - dataset: fashioniq_task7
        scores:
          - nDCG@10: 0.1410
            R@20: 0.3228
            R@100: 0.5326
      - dataset: infoseek_task6
        scores:
          - nDCG@10: 0.1708
            R@20: 0.2791
            R@100: 0.4829
      - dataset: infoseek_task8
        scores:
          - nDCG@10: 0.3188
            R@20: 0.4547
            R@100: 0.6707
      - dataset: mscoco_task0
        scores:
          - nDCG@10: 0.7147
            R@20: 0.9398
            R@100: 0.9944
      - dataset: mscoco_task3
        scores:
          - nDCG@10: 0.6673
            R@20: 0.7940
            R@100: 0.9526
      - dataset: nights_task4
        scores:
          - nDCG@10: 0.2613
            R@20: 0.7769
            R@100: 0.9792
      - dataset: oven_task6
        scores:
          - nDCG@10: 0.2135
            R@20: 0.2629
            R@100: 0.3212
      - dataset: oven_task8
        scores:
          - nDCG@10: 0.2121
            R@20: 0.1658
            R@100: 0.1859
      - dataset: visualnews_task0
        scores:
          - nDCG@10: 0.3606
            R@20: 0.6016
            R@100: 0.7630
      - dataset: visualnews_task3
        scores:
          - nDCG@10: 0.3578
            R@20: 0.6035
            R@100: 0.7682
      - dataset: webqa_task1
        scores:
          - nDCG@10: 0.5926
            R@20: 0.7613
            R@100: 0.8829
      - dataset: webqa_task2
        scores:
          - nDCG@10: 0.6316
            R@20: 0.8586
            R@100: 0.9504
  - name: blip-ff-large
    command: python -m pyserini.search.faiss --encoder-class uniir --encoder blip_ff_large --index m-beir-${dataset}.blip-ff-large --topics-format mbeir --topics collections/m-beir/mbeir_${dataset}_test.jsonl --output-format trec --output $output --hits 1000 --instruction-config collections/m-beir/query_instructions/${instruction_config} --fp16 --threads ${dense_threads} --batch-size ${dense_batch_size}
    datasets:
      - dataset: cirr_task7
        scores:
          - nDCG@10: 0.4164
            R@20: 0.7166
            R@100: 0.9006
      - dataset: edis_task2
        scores:
          - nDCG@10: 0.3149
            R@20: 0.5282
            R@100: 0.7546
      - dataset: fashion200k_task0
        scores:
          - nDCG@10: 0.1245
            R@20: 0.2512
            R@100: 0.4674
      - dataset: fashion200k_task3
        scores:
          - nDCG@10: 0.1707
            R@20: 0.3774
            R@100: 0.6214
      - dataset: fashioniq_task7
        scores:
          - nDCG@10: 0.1829
            R@20: 0.3691
            R@100: 0.5745
      - dataset: infoseek_task6
        scores:
          - nDCG@10: 0.1312
            R@20: 0.2098
            R@100: 0.3945
      - dataset: infoseek_task8
        scores:
          - nDCG@10: 0.1794
            R@20: 0.2755
            R@100: 0.4902
      - dataset: mscoco_task0
        scores:
          - nDCG@10: 0.7015
            R@20: 0.9304
            R@100: 0.9911
      - dataset: mscoco_task3
        scores:
          - nDCG@10: 0.6452
            R@20: 0.7744
            R@100: 0.9399
      - dataset: nights_task4
        scores:
          - nDCG@10: 0.2724
            R@20: 0.7840
            R@100: 0.9792
      - dataset: oven_task6
        scores:
          - nDCG@10: 0.2041
            R@20: 0.2543
            R@100: 0.3084
      - dataset: oven_task8
        scores:
          - nDCG@10: 0.1784
            R@20: 0.1492
            R@100: 0.1723
      - dataset: visualnews_task0
        scores:
          - nDCG@10: 0.1911
            R@20: 0.3757
            R@100: 0.5624
      - dataset: visualnews_task3
        scores:
          - nDCG@10: 0.1900
            R@20: 0.3788
            R@100: 0.5698
      - dataset: webqa_task1
        scores:
          - nDCG@10: 0.5303
            R@20: 0.6949
            R@100: 0.8288
      - dataset: webqa_task2
        scores:
          - nDCG@10: 0.6321
            R@20: 0.8642
            R@100: 0.9492
