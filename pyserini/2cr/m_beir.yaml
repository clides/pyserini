conditions:
  - name: clip-sf-large
    command: python -m pyserini.search.faiss --encoder-class uniir --encoder clip_sf_large --index m-beir-${dataset}.clip-sf-large --topics-format mbeir --topics collections/m-beir/mbeir_${dataset}_test.jsonl --output-format trec --output $output --hits 1000 --instruction-config collections/m-beir/query_instructions/${instruction_config} --fp16 --threads ${dense_threads} --batch-size ${dense_batch_size}
    datasets:
      - dataset: cirr_task7
        scores:
          - nDCG@10: 0.0404
            R@20: 0.3879
            R@100: 0.5141
      - dataset: edis_task2
        scores:
          - nDCG@10: 0.1033
            R@20: 0.2894
            R@100: 0.4023
      - dataset: fashion200k_task0
        scores:
          - nDCG@10: 0.0776
            R@20: 0.1099
            R@100: 0.1715
      - dataset: fashion200k_task3
        scores:
          - nDCG@10: 0.1548
            R@20: 0.2195
            R@100: 0.3273
      - dataset: fashioniq_task7
        scores:
          - nDCG@10: 0.2228
            R@20: 0.2977
            R@100: 0.4070
      - dataset: infoseek_task6
        scores:
          - nDCG@10: 0.0067
            R@20: 0.0324
            R@100: 0.0574
      - dataset: infoseek_task8
        scores:
          - nDCG@10: 0.0347
            R@20: 0.1503
            R@100: 0.2417
      - dataset: mscoco_task0
        scores:
          - nDCG@10: 0.3931
            R@20: 0.6115
            R@100: 0.6800
      - dataset: mscoco_task3
        scores:
          - nDCG@10: 0.1223
            R@20: 0.3728
            R@100: 0.4651
      - dataset: nights_task4
        scores:
          - nDCG@10: 0.0887
            R@20: 0.3193
            R@100: 0.5325
      - dataset: oven_task6
        scores:
          - nDCG@10: 0.0667
            R@20: 0.1341
            R@100: 0.1669
      - dataset: oven_task8
        scores:
          - nDCG@10: 0.0807
            R@20: 0.1248
            R@100: 0.1405
      - dataset: visualnews_task0
        scores:
          - nDCG@10: 0.1624
            R@20: 0.3333
            R@100: 0.4154
      - dataset: visualnews_task3
        scores:
          - nDCG@10: 0.0796
            R@20: 0.3003
            R@100: 0.4057
      - dataset: webqa_task1
        scores:
          - nDCG@10: 0.2070
            R@20: 0.4613
            R@100: 0.5600
      - dataset: webqa_task2
        scores:
          - nDCG@10: 0.3315
            R@20: 0.5914
            R@100: 0.6880
  - name: blip-ff-large
    command: python -m pyserini.search.faiss --encoder-class uniir --encoder blip_ff_large --index m-beir-${dataset}.blip-ff-large --topics-format mbeir --topics collections/m-beir/mbeir_${dataset}_test.jsonl --output-format trec --output $output --hits 1000 --instruction-config collections/m-beir/query_instructions/${instruction_config} --fp16 --threads ${dense_threads} --batch-size ${dense_batch_size}
    datasets:
      - dataset: cirr_task7
        scores:
          - nDCG@10: 0.0404
            R@20: 0.3879
            R@100: 0.5141
      - dataset: edis_task2
        scores:
          - nDCG@10: 0.1033
            R@20: 0.2894
            R@100: 0.4023
      - dataset: fashion200k_task0
        scores:
          - nDCG@10: 0.0776
            R@20: 0.1099
            R@100: 0.1715
      - dataset: fashion200k_task3
        scores:
          - nDCG@10: 0.1548
            R@20: 0.2195
            R@100: 0.3273
      - dataset: fashioniq_task7
        scores:
          - nDCG@10: 0.2228
            R@20: 0.2977
            R@100: 0.4070
      - dataset: infoseek_task6
        scores:
          - nDCG@10: 0.0067
            R@20: 0.0324
            R@100: 0.0574
      - dataset: infoseek_task8
        scores:
          - nDCG@10: 0.0347
            R@20: 0.1503
            R@100: 0.2417
      - dataset: mscoco_task0
        scores:
          - nDCG@10: 0.3931
            R@20: 0.6115
            R@100: 0.6800
      - dataset: mscoco_task3
        scores:
          - nDCG@10: 0.1223
            R@20: 0.3728
            R@100: 0.4651
      - dataset: nights_task4
        scores:
          - nDCG@10: 0.0887
            R@20: 0.3193
            R@100: 0.5325
      - dataset: oven_task6
        scores:
          - nDCG@10: 0.0667
            R@20: 0.1341
            R@100: 0.1669
      - dataset: oven_task8
        scores:
          - nDCG@10: 0.0807
            R@20: 0.1248
            R@100: 0.1405
      - dataset: visualnews_task0
        scores:
          - nDCG@10: 0.1624
            R@20: 0.3333
            R@100: 0.4154
      - dataset: visualnews_task3
        scores:
          - nDCG@10: 0.0796
            R@20: 0.3003
            R@100: 0.4057
      - dataset: webqa_task1
        scores:
          - nDCG@10: 0.2070
            R@20: 0.4613
            R@100: 0.5600
      - dataset: webqa_task2
        scores:
          - nDCG@10: 0.3315
            R@20: 0.5914
            R@100: 0.6880
